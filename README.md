# LGS Test Tools

‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü LED ‡∏ú‡πà‡∏≤‡∏ô Modbus TCP ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö LGS (Light Grid System) ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏ü LED ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Grid 9x9

## ‚ú® ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥

- üîå **‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Modbus TCP**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Modbus TCP Server
- üí° **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü LED**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü LED ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Grid 9x9
- üìä **‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô Coils, Discrete Inputs, Holding Registers, Input Registers
- ‚úçÔ∏è **‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Coils ‡πÅ‡∏•‡∏∞ Registers
- üéØ **UI ‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ä‡πâ**: Web Interface ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
- üì± **Responsive Design**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡πà‡∏≤‡∏á‡πÜ
- üåô **Dark/Light Theme**: ‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡∏ä‡∏≠‡∏ö

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö Development

#### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- Node.js 18+ 
- npm ‡∏´‡∏£‡∏∑‡∏≠ yarn

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

1. **Clone repository**
```bash
git clone <repository-url>
cd lgs-test-tools
```

2. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies**
```bash
npm install
# ‡∏´‡∏£‡∏∑‡∏≠
yarn install
```

3. **‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°**
```bash
npm run dev
# ‡∏´‡∏£‡∏∑‡∏≠
yarn dev
```

4. **‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå**
‡πÄ‡∏õ‡∏¥‡∏î [http://localhost:3000](http://localhost:3000) ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Docker

#### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- Docker 20+
- Docker Compose (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Simulator)

#### ‡∏£‡∏±‡∏ô Application ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

```bash
# Build ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô container
docker build -t lgs-test-tools .
docker run -p 3000:3000 lgs-test-tools
```

#### ‡∏£‡∏±‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° Modbus Simulator

```bash
# ‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á Application ‡πÅ‡∏•‡∏∞ Simulator
docker-compose --profile simulator up -d

# ‡∏£‡∏±‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Application
docker-compose up -d
```

## üéØ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Modbus

1. **‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö**: ‡πÄ‡∏õ‡∏¥‡∏î [http://localhost:3000](http://localhost:3000)
2. **‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠**:
   - **Host**: IP Address ‡∏Ç‡∏≠‡∏á Modbus Server (‡πÄ‡∏ä‡πà‡∏ô `192.168.1.100`)
   - **Port**: Port ‡∏Ç‡∏≠‡∏á Modbus Server (‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡∏∑‡∏≠ `502`)
3. **‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "Connect"**: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Modbus Server

### ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü LED

#### ‡πÅ‡∏ö‡∏ö Grid Position
1. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á**:
   - **Row**: ‡πÅ‡∏ñ‡∏ß (1-9)
   - **Column**: ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå (1-9)
   - **LED**: ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç LED (1-64)

2. **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü**:
   - **Turn On**: ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü LED
   - **Turn Off**: ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü LED

#### ‡πÅ‡∏ö‡∏ö Unit ID
1. **‡∏Å‡∏£‡∏≠‡∏Å Unit ID**: ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç Unit ID (1-255)
2. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**: ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÑ‡∏ü

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Modbus Functions

#### Read Operations
- **Read Coils**: ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Coils
- **Read Discrete Inputs**: ‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Discrete Inputs  
- **Read Holding Registers**: ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ Holding Registers
- **Read Input Registers**: ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ Input Registers

#### Write Operations
- **Write Coil**: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ Coil (True/False)
- **Write Register**: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ Register (0-65535)

### ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå Modbus

- **Unit ID**: 1-255 (Slave Address)
- **Address**: 0-65535 (Register/Coil Address)
- **Quantity**: 1-125 (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô)
- **Value**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```
lgs-test-tools/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/modbus/        # Modbus API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Root layout
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx           # Main page
‚îú‚îÄ‚îÄ components/            # React components
‚îÇ   ‚îú‚îÄ‚îÄ ui/                # UI components
‚îÇ   ‚îú‚îÄ‚îÄ ConnectionStatus.tsx
‚îÇ   ‚îú‚îÄ‚îÄ LightPanel.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ hooks/                 # Custom React hooks
‚îú‚îÄ‚îÄ lib/                   # Utility libraries
‚îÇ   ‚îú‚îÄ‚îÄ modbus-service.ts  # Modbus service class
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts           # Helper utilities
‚îú‚îÄ‚îÄ types/                 # TypeScript type definitions
‚îú‚îÄ‚îÄ utils/                 # Utility functions
‚îî‚îÄ‚îÄ constants/             # Application constants
```

### Technology Stack

- **Frontend**: Next.js 15, React 19, TypeScript
- **Styling**: Tailwind CSS, DaisyUI
- **Modbus**: modbus-serial library
- **State Management**: React Context API
- **Build Tool**: Next.js built-in bundler
- **Container**: Docker, Docker Compose

## üîß ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤

### Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤:

```env
# Application
NODE_ENV=development
NEXT_TELEMETRY_DISABLED=1

# Modbus (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
DEFAULT_MODBUS_HOST=192.168.1.100
DEFAULT_MODBUS_PORT=502
```

### Modbus Configuration

- **Timeout**: 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
- **Max Retries**: 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- **Connection Type**: TCP/IP
- **Protocol**: Modbus TCP

## üìä ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

### Health Check

- **Endpoint**: `GET /api/modbus`
- **Response**: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Modbus

```json
{
  "success": true,
  "connected": true,
  "message": "Connected"
}
```

### Logs

- **Development**: ‡πÅ‡∏™‡∏î‡∏á debug logs ‡πÉ‡∏ô console
- **Production**: ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ error ‡πÅ‡∏•‡∏∞ warning logs

## üêõ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network**:
   ```bash
   ping <modbus-server-ip>
   telnet <modbus-server-ip> 502
   ```

2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firewall**: ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ Port 502 ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Modbus Server**: ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤ Modbus Server ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Docker

1. **Container ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô**:
   ```bash
   docker logs lgs-test-tools
   ```

2. **Network Issues**:
   ```bash
   docker network ls
   docker network inspect modbus-network
   ```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

1. **TypeScript Errors**: ‡∏£‡∏±‡∏ô `npm run type-check`
2. **Lint Errors**: ‡∏£‡∏±‡∏ô `npm run lint`
3. **Build Errors**: ‡∏£‡∏±‡∏ô `npm run build`

## üöÄ ‡∏Å‡∏≤‡∏£ Deploy

### Production Build

```bash
# Build for production
npm run build

# Start production server
npm start
```

### Docker Production

```bash
# Build production image
docker build -t lgs-test-tools:latest .

# Run with production settings
docker run -d \
  --name lgs-test-tools \
  -p 3000:3000 \
  -e NODE_ENV=production \
  lgs-test-tools:latest
```

## ü§ù ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

### Development Commands

```bash
# Development server
npm run dev

# Type checking
npm run type-check

# Linting
npm run lint

# Build
npm run build
```

### Code Structure Guidelines

- **Components**: ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô UI components ‡πÅ‡∏•‡∏∞ business logic
- **Services**: ‡πÉ‡∏ä‡πâ Service classes ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö business logic
- **Types**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î TypeScript types ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- **Error Handling**: ‡πÉ‡∏ä‡πâ try-catch ‡πÅ‡∏•‡∏∞ validation
- **Logging**: ‡πÉ‡∏ä‡πâ Logger utility

## üìÑ License

MIT License - ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå LICENSE

## üìû Support

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô:
- Email: support@example.com
- Issues: GitHub Issues
- Documentation: README.md
